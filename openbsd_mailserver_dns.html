<html lang="en">

<head>

  <!-- Basic Page Needs -->
  <meta charset="utf-8">
  <title>No Hair Github Pages: OpenBSD Mail Server Notes - DNS </title>
  <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
  <meta name="generator" content="GSB">
  <meta name="description" content="Various items of interest to the authors">
  <meta name="author" content="Our writers and correspondents">

  <!-- Mobile Specific Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS -->
  <link rel="stylesheet" href="./normalize.css">
  <link rel="stylesheet" href="./skeleton.css">

  <!-- Favicon -->
  <link href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T\
8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAACNElEQVRIx41VzUs6QRh+XH4SifRBL\
CEIshBqLdFeIrwIfVqnoq5eApOK+kO6dimo6NC96GgSSlDSIUo7ZItkQunW0gdlBRn0\
O8Q0Mds0+1yGeb+e931n5h0HBBgcjEQikc9PkR0PyWQikUg4HDw9V0GIY7F4fGaGyg8\
P8mTEz5hW5vPp2nA1tbGxtKSOBHJLnEqdXCQTosrvrgoFHQdmJiYm5udFXdSYg14xB8\
f7+9OpziBx8e7O9MECoWjoNzYGBgbCwa5SciiQKyxE9PhvHywl9ZNDZ6vQ0N1kS4CVx\
e3t4+P9OzlmWPx+sVV86Drudyx8d8T9WYJo3N5UKAHzVvba2uLiwQPWrq5ubqRSwt7e\
zs71N5eHw0NDoKBCLjY39lJ5NDoH4jCvoAMH9fblsGHRfX9c7HZbCQiInNjx4thOgCA\
Q6OgIBIC3t4eHalXccmJHESwHIGq+v2KApyeOp2vr8DISFf8DCwvLyysr7OD6Sqmtbd\
TffT01NTk5P0LqmqoigKkM1mMj9vgcD+zw6O8PhUIga9vQEg5oGnJ3l87oO+HxfAQlK\
pWKxWATa24NBv58Sk9dRKul6LkftyWCSWMH32Ui1mstFV3YCulx1dbNhWQynd7fp35N\
TS0tsmwlFt6BbDaT2d2leadk06Qyu3GYSH8C8i+qysU6u8H3O652G1Wqv9Rmz7L+A5y\
HJrq8cDXF0Zhmla7a+vK5Vy2T6xsAOijoggIib4DwP6V6vAI3f4AAAAAElFTkSuQmCC=="
rel="icon" type="image/x-icon" />

  <!--  Scripts -->
  
</head>


<body>

<!-- Primary Page Layout -->
  
<div class="container">
  
 <!-- Header -->
    <div class="row">
		
      <div class="twelve columns" style="margin-top: 4%; text-align: center;">
        You are here: <a href="./index.html">Home</a>  > <a href="./openbsd_mailserver_dns.html">OpenBSD mail server, Part2 : DNS</a></br>
      </div class="twelve columns">
      
      <div class="twelve columns" style="margin-top: 3%; text-align: center;">
	  <img src="./spacer.gif" height="30px"></br>
	  <h4><b>No Hair Github Pages</b></h4>
	  </div class="twelve columns">

 	</div class ="row">

 <!-- End Header -->

 <!-- Post body -->
	<div class="row">
	
	  <div class="twelve columns" style="margin-top: 3%; text-align: center;">
		<h5><b>OpenBSD mail server, Part 3: DNS</b></h5>
	  </div class="twelve columns">

	  <div class="twelve columns" style="margin-top: 3%; text-align: left;">
		
<p>A. DNS</p>

<p>1. First, set up DNS for the mail server at your DNS provider</p>

<p>A Record:</p>
<pre><code>smtp.example.com  A  1.2.3.4</code></pre>

<p>MX Records:</p>
<pre><code>example.com   MX   1   smtp.example.com.
@             MX   2   smtp.example.com.</code></pre>

<p>2. SPF Records:</p>
<pre><code>example.com. IN TXT "v=spf1 a ip4:1.2.3.4 mx ~all"</code></pre>

<p>3. DKIM and DMARC Records: See <a href="./openbsd_mailserver_dkim.html">following section</a>.</p>

<p>4. CAA Records: See Certificates sevtion following</p>

<p>5. Reverse DNS (rDNS), forward-confirmed reverse DNS (FCrDNS), and PTR records:</p>

<p>If you have static IP at home or business, you probably need to contact your ISP to have them set up reverse DNS. If you have a VPS or shared hosting, usually you can create PTR records in the administration panel or request it from your hosting company. If you have your own DNS servers, you probably already have your own mail server.</p>
	
<p>The format of the PTR record is:</p>
<pre><code>4.3.2.1.in-addr.arpa. 7200 IN PTR mail.example.com.</code></pre>

<p>Forward-confirmed DNS requires that an A record references the name and IP and a PT record references the same IP and name, like so:</p>
<pre><code>smtp	   3600  IN  A   1.2.3.4
4.3.2.1.in-addr.arpa.	7200  IN  PTR   mail.example.com.</code></pre>

<p>6. Test if DNS resolution is working. You can use https://mxtoolbox.com/ to check all your DNS records for confirmation.</p>

<p> Also, you can use <a href="https://multirbl.valli.org/">https://multirbl.valli.org/</a> tp check rDNS AND FCDNS.</p<

<p>For additional reading:</p>

<ul><ii><a href="https://wiki.ircnow.org/index.php?n=DNS.Mail">IRCnow DNS for mail</a>
<li><a href="https://manuals.gfi.com/en/kerio/connect/content/server-configuration/mail-delivery-and-dns-records/essential-dns-records-for-mail-delivery-and-spam-protection-1223.html">GFI.com mail delivery and dns</a></ul>
<p></p>

<p>Next: <a href="./openbsd_mailserver_dkim">Set up DKIM and DKMARC</a></p>

<p>Previous: <a href="./openbsd_mailserver_intro.html">OpenBSD mail server - Prerequisites</a></p>

<p></br></p>

<p>Posted by Gordon, No Hair Github Pages, August 12, 2021</p>

<p>&copy; nohair.net and the author</p>

	  </div class="twelve columns">
    
	</div class="row">

 <!-- End Post body -->

 <!-- Footer --> 
	<div class="row">
      <div class="twelve columns" style="text-align: center;">
		<p>For comments, corrections, and addenda, email: gordon[AT]nohair.net</p>
		<p><a href="./index.html">Github Pages index</a> | <a href="https://www.nohair.net">Nohair.net</a> | <a href="https://www.nohair.net/links.html">Links</a> | <a href="https://www.nohair.net/cams.html">Surfcams</a></p></br>
	  </div class="twelve columns">
	</div class="row">
    
 <!-- End Footer -->

  </div class="container">

<!-- End Document -->

</body>
</html>
