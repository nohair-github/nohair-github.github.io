<html lang="en">

<head>

  <!-- Basic Page Needs -->
  <meta charset="utf-8">
  <title>No Hair Github Pages: OpenBSD Mail Server Notes - Prerequisites </title>
  <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
  <meta name="generator" content="GSB">
  <meta name="description" content="Various items of interest to the authors">
  <meta name="author" content="Our writers and correspondents">

  <!-- Mobile Specific Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS -->
  <link rel="stylesheet" href="./normalize.css">
  <link rel="stylesheet" href="./skeleton.css">

  <!-- Favicon -->

  <!--  Scripts -->
  
</head>


<body>

<!-- Primary Page Layout -->
  
<div class="container">
  
 <!-- Header -->
    <div class="row">
		
      <div class="twelve columns" style="margin-top: 4%; text-align: center;">
        You are here: <a href="./index.html">Home</a>  > <a href="./openbsd_mailserver_intro.html">OpenBSD mail server: Prerequisites</a></br>
      </div class="twelve columns">
      
      <div class="twelve columns" style="margin-top: 3%; text-align: center;">
	  <img src="./spacer.gif" height="30px"></br>
	  <h4><b>No Hair Github Pages</b></h4>
	  </div class="twelve columns">

 	</div class ="row">

 <!-- End Header -->

 <!-- Post body -->
	<div class="row">
	
	  <div class="twelve columns" style="margin-top: 3%; text-align: center;">
		<h5><b>Setting up a mailserver on OpenBSD 6.9: Prerequisites</b></h5>
	  </div class="twelve columns">

	  <div class="twelve columns" style="margin-top: 3%; text-align: left;">
		
<p>The goal is to have a hosted mail server for my domain accessible to hosts both inside and outside the local network which use MacOS, Linux, and OpenBSD. Although mail is in the base install and can suffice to read local system mail on an OpenBSD workstation, it cannot access mail from a remote mail server. For this, use Thunderbird. Mutt, lynx, getmail/fetchmail, etc.</p>

<p>Prior to doing this you need:<ul>
<li>A static IP is (almost) mandatory as is 24/7 uptime. I recommend you spin up a cheap VPS. I use <a href="vultr.com">Vultr</a>. Some ISPs use dynamic addresses which do not change often, sort of s pseudo-static IP. If your mail server is not your primary one and you are just testing, you're welcome to try at home and good luck: for production, no way.
<li>Check that port 25 is not blocked by your ISP or hosting provider. ATT and Comcast do. You can file a ticket to get that opened on ATT if you have a business account or static IP. It costs $49. If you're on a consumer connection with a dynamic IP, they won't. You can check from a remote host with https://www.yougetsignal.com/tools/open-ports/. So, yet another reason to have a remote host.
<li>Most relays to your mailserver will still come over smtp port 25 with or without TLS/SSL. Some relays are still unencrypted so you shouldn't require TLS for all incoming connections. Some may use "smtps" (port 465). Other ports needed are submission (587), imap (143), imap3 (220), and imaps (993). pop/pop3 is deprecated, so we will use only imap.
<li>Check that your IP address has not been blacklisted because of prior activity. You can use online services like https://whatismyipaddress.com/blacklist-check. You can also check the reputation of the IP address at sites like https://www.ipqualityscore.com/ip-reputation-check.
<li>Check that you can edit the reverse DNS records or that your ISP will. If your rDNS record does not point to your server name, e.g. mail.example.com, you need to fix this. Check with https://mxtoolbox.com/ReverseLookup.aspx, for example.
</ul>

<p>If you don't want to wade through these html chapters, a complete text file of the instructions can de viewed or downloaded <a href="https://nohair-github.github.io/openbsd_mailserver.txt">here</a>.

<p>With all these criteria met, let's <a href="./openbsd_mailserver_dns.html">move on to DNS</a>.</p>


<p>Next: <a href="./openbsd_mailserver_dns.html">DNS</a></p>

<p>Previous: <a href="./openbsd_mailserver_sources.html">Sources</a></p>

<p></br></p>

<p>Posted by Gordon, No Hair Github Pages, Aug 11, 2021</p>

<p>&copy; nohair.net and the author</p>

	  </div class="twelve columns">
    
	</div class="row">

 <!-- End Post body -->

 <!-- Footer --> 
	<div class="row">
      <div class="twelve columns" style="text-align: center;">
		<p>For comments, corrections, and addenda, email: gordon[AT]nohair.net</p>
		<p><a href="./index.html">Github Pages index</a> | <a href="https://www.nohair.net">nohair.net</a> | <a href="https://www.nohair.net/links.html">Links</a> | <a href="https://www.nohair.net/cams.html">Surfcams</a></p></br>
	  </div class="twelve columns">
	</div class="row">
    
 <!-- End Footer -->

  </div class="container">

<!-- End Document -->

</body>
</html>
